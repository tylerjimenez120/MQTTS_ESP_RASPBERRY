This is the "Development Report" that explains the engineering challenges you overcame.

Technical Report: Secure Environmental Monitoring with ESP32
1. System Architecture The project follows a producer-consumer model. A FreeRTOS sensor task samples data every 10 seconds and pushes it into a synchronized queue. A second MQTT task consumes this data and publishes it to the broker only when a stable network connection is detected.

2. Technical Challenges & Debugging

Watchdog Reset Issue (RTCWDT_RTC_RESET):

Cause: During early development, the ESP32 entered a boot loop. Diagnosis showed that global static object constructors were attempting to access I2C hardware before the RTOS kernel had fully initialized.

Solution: Migrated to Lazy Initialization within the tasks, ensuring NVS flash and network stacks were stabilized before hardware interaction.

Memory Management (Stack Overflow):

Cause: Utilizing MQTTS (TLS/SSL) is resource-intensive. The default 4KB task stack was insufficient for the OpenSSL handshake process.

Solution: Increased the MQTT task stack to 8KB and reconfigured the Flash partition to 4MB to accommodate the larger binary size.

3. Sensor Calibration & Compensation Unlike basic implementations, this firmware performs dynamic compensation. The AHT21 provides real-time Temperature and Humidity data, which is injected into the ENS160's compensation registers (0x13-0x16). This corrects the gas sensor readings based on environmental conditions, preventing "drift."

4. Network Security Security is handled at the transport layer. The MQTT client loads a CA Certificate in PEM format to verify the broker's identity on port 8883, preventing "Man-in-the-Middle" attacks within the local network.
